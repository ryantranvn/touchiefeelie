$(document).ready(function(){function e(e){var t=e.find("input.thumbnail-url"),a=e.find(".thumbnail"),i=e.next(".thumbnail-del");CKFinder.modal({chooseFiles:!0,width:800,height:600,onInit:function(e){e.on("files:choose",function(e){var r=e.data.files.first();t.val(r.getUrl()),a.attr("src",r.getUrl()),i.removeClass("hide")}),e.on("file:choose:resizedImage",function(e){t.val(e.data.resizedUrl),a.attr("src",e.data.resizedUrl)})}})}var t=window.innerWidth,a=window.innerHeight;$(window).resize(function(){t=window.innerWidth,a=window.innerHeight,t>1100&&$("#navigation").fadeIn().removeClass("fadeOutLeft").addClass("fadeInLeft")}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxStart(function(){$(".page-loader-wrapper").fadeIn()}),$(document).ajaxStop(function(){$(".page-loader-wrapper").fadeOut()}),$.validator.setDefaults({highlight:function(e){$(e).parents(".form-line").addClass("error")},unhighlight:function(e){$(e).parents(".form-line").removeClass("error")},errorPlacement:function(e,t){$(t).parents(".form-group").append(e)}}),$.validator.addMethod("atLeastOneSeat",function(e,t,a){var i=$(".group-required").filter(function(){return"0"!=$(this).val()});return i.length>0},"Please select at least one seat"),$.validator.addClassRules("group-required",{atLeastOneSeat:!0});var i=$(".hamburger");i.on("click",function(){i.toggleClass("is-active"),$("#navigation").hasClass("fadeInLeft")?$("#navigation").removeClass("fadeInLeft").addClass("fadeOutLeft"):$("#navigation").fadeIn().removeClass("fadeOutLeft").addClass("fadeInLeft")}),$(".positive-number").on("keypress keyup blur",function(e){$(this).val($(this).val().replace(/[^\d].+/,"")),(e.which<48||e.which>57)&&e.preventDefault()}),$("#editor").length>0&&CKEDITOR.replace("editor",{customConfig:"../adminbsb/js/ckeditor-config-min.js"}),$("body").on("click","a.thumbnail-frame",function(t){t.preventDefault(),e($(this))}),$("body").on("click",".thumbnail-del",function(e){e.preventDefault();var t=$(this).prev(".thumbnail-frame"),a=t.find("input.thumbnail-url"),i=t.find(".thumbnail");a.val(""),i.attr("src",baseUrl+"/adminbsb/images/default.jpg"),$(this).addClass("hide")}),$("body").on("click",".btn-delete",function(e){e.preventDefault();var t=$(this).attr("data-action");console.log(t),swal({title:trans.swal_delete_title,text:trans.swal_delete_text,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:trans.swal_delete_btn_confirm,closeOnConfirm:!1},function(){$("#frm-delete").attr("action",t).submit()})}),$("body").find(".date-picker").length>0&&$(".date-picker").bootstrapMaterialDatePicker({format:"YYYY-MM-DD",clearButton:!0,weekStart:1,time:!1}),$("body").find(".time-picker").length>0&&$(".time-picker").bootstrapMaterialDatePicker({date:!1,time:!0,shortTime:!1,format:"HH:mm"}),$("#frmLibrary").length>0&&$("#frmLibrary").validate({rules:{title:{required:!0,maxlength:255}},submitHandler:function(e){e.submit()}}),$("#frmBlog").length>0&&$("#frmBlog").validate({rules:{title:{required:!0,maxlength:255}},submitHandler:function(e){e.submit()}}),$("#frmNews").length>0&&$("#frmNews").validate({rules:{title:{required:!0,maxlength:255}},submitHandler:function(e){e.submit()}}),$("#frmCalendar").length>0&&($("body").on("click",".btn-select-wrap .btn-select",function(){var e=$(this).parent(".btn-select-wrap");e.find(".btn-select.active").removeClass("active"),$(this).addClass("active"),e.find(".btn-select-value").val($(this).attr("data-value"))}),$("body").on("click",".btn-multi-select-wrap .btn-select",function(e){e.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(this).next("input").val("")):($(this).addClass("active"),$(this).next("input").val($(this).attr("data-value")))}),$("#frmCalendar").validate({rules:{date:{required:!0},number_days:{required:!0,min:0,max:28},"days[]":{require_from_group:[1,".days-group"]}},submitHandler:function(e){e.submit()}})),$("#frmCustomer").length>0&&($(".birthday").dateDropdowns({displayFormat:"dmy",dropdownClass:"form-control date_picker",yearLabel:"Năm",monthLabel:"Tháng",dayLabel:"Ngày",monthFormat:"numeric",daySuffixes:!1,monthSuffixes:!1}),$("body").on("click",".btn-select-wrap .btn-select",function(){var e=$(this).parent(".btn-select-wrap");e.find(".btn-select.active").removeClass("active"),$(this).addClass("active"),e.find(".btn-select-value").val($(this).attr("data-value"))}),$("#frmCustomer").validate({ignore:[],rules:{child_name:{required:!0},child_birthday:{required:!0},child_month:{required:!0},child_weight:{required:!0},address:{required:!0},pathological:{required:!0},know_from:{required:!0}},messages:{child_name:{required:"Trường bắt buộc"},child_birthday:{required:"Trường bắt buộc"},child_month:{required:"Trường bắt buộc"},child_weight:{required:"Trường bắt buộc"},address:{required:"Trường bắt buộc"},pathological:{required:"Trường bắt buộc"},know_from:{required:"Trường bắt buộc"}},submitHandler:function(e){e.submit()}})),setTimeout(function(){$("html, body").animate({scrollTop:0},600,function(){$(".page-loader-wrapper").fadeOut()})},50)});