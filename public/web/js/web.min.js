$(document).ready(function(){function e(e){return number_format(e,0,",",".")}function t(){$(".navbar-collapse").fadeIn(500,function(){}),$("body").addClass("scroll-fixed")}function r(){$(".navbar-collapse").fadeOut(),$("body").removeClass("scroll-fixed")}function a(){var e=.3*c;$(".banner-img").css({height:e+"px"}),600>=c&&$("#subnav").css({top:e+69+"px",height:"auto"})}function n(){if(c>600){var e=.67;576>=c?e=1.4:768>=c?e=1:960>=c&&(console.log(c),e=.8),$(".home-block").css({height:c*e+"px"}),$(".customer-block .bg-top").css({height:.2*c+"px"}),$(".customer-block .bg-bottom").css({height:.2*c+"px"})}}function i(){var e=.41;$(".ve-chung-toi .right-col").css({height:$(".ve-chung-toi .left-col").height()+"px"}),$(".cham-ca-bau-troi").css({height:c*e+"px"}),$(".co-so-vat-chat .right-col").css({height:$(".co-so-vat-chat .left-col").height()+"px"}),$(".hiep-hoi .right-col").css({height:$(".hiep-hoi .left-col").height()+"px"}),$(".hiep-hoi-2 .left-col").css({height:$(".hiep-hoi-2 .right-col").outerHeight()+"px"}),$(".su-mang .right-col").css({height:$(".su-mang .left-col").outerHeight()+"px"}),$(".su-mang .quotation-content").css({height:.15*$(".su-mang .left-col").width()+"px"}),$(".khoanh-khac .text-khoanh-khac").css({height:.62*$(".khoanh-khac .text-khoanh-khac").width()+"px"}),$(".khoanh-khac .right-col").css({height:$(".khoanh-khac .left-col").outerHeight()+"px"}),$(".tham-kham .left-col").css({height:$(".tham-kham .right-col").outerHeight()+"px"}),$(".bs-col").css({"padding-top":$(".bs-col").outerWidth()+"px"})}function o(){var e=.41;$(".dat-hen-1 .left-col").css({height:$(".dat-hen-1 .right-col").outerHeight()+"px"})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxStart(function(){$(".page-loader-wrapper").fadeIn()}),$(document).ajaxStop(function(){$(".page-loader-wrapper").fadeOut()});var c=window.innerWidth,l=window.innerHeight;if(a(),$(window).resize(function(){c=window.innerWidth,l=window.innerHeight,a(),$(".home-page").length>0&&n(),$(".aboutus-page").length>0&&i(),$(".booking-page").length>0&&o()}),number_format=function(e,t,r,a){e=e.toString().replace(".",""),e=parseFloat(e).toFixed(t);var n=e.toString();n+="",x=n.split("."),x1=x[0],x2=x.length>1?r+x[1]:"";for(var i=/(\d+)(\d{3})/;i.test(x1);)x1=x1.replace(i,"$1"+a+"$2");return x1+x2},$("body").on("click",".navbar .menu-button",function(){t()}),$("body").on("click",".navbar-collapse .menu-button",function(){r()}),$("body").on("click",".tab-wrap .tab-item",function(){var e=$(this).attr("data-id"),t=$(this).parent("ul").parent(".tab-items-wrap");t.find(".tab-item.active").removeClass("active"),$(this).addClass("active"),$(".tab-content-wrap").find(".tab-content.active").removeClass("active"),$(".tab-content-wrap").find(".tab-content#"+e).addClass("active")}),$("input.birthday").length>0&&$(".birthday").dateDropdowns({displayFormat:"dmy",dropdownClass:"form-control date_picker",yearLabel:"Năm",monthLabel:"Tháng",dayLabel:"Ngày",monthFormat:"numeric",daySuffixes:!1,monthSuffixes:!1}),$(".positive-number").on("keypress keyup blur",function(e){$(this).val($(this).val().replace(/[^\d].+/,"")),(e.which<48||e.which>57)&&e.preventDefault()}),$("#frmSubscribe").validate({rules:{email:{required:!0,email:!0}},messages:{email:{required:"Trường bắt buộc",email:"Nhập email chưa đúng định dạng"}},submitHandler:function(e){return $.ajax({url:baseUrl+"/ajax_subscribe",type:"POST",dataType:"json",data:{email:$("#frmSubscribe").find('input[name="email"]').val()},beforeSend:function(){$(".page-loader-wrapper").fadeIn()},success:function(e){$(".page-loader-wrapper").fadeOut(),"error"==e.status?Swal({title:"Error!",text:e.msg,type:"error",confirmButtonText:"Close"}):Swal({title:"Success!",text:e.msg,type:"success",confirmButtonText:"Close"})},error:function(){Swal({title:"Error!",text:"Rất tiếc không thể kết nối cơ sở dữ liệu",type:"error",confirmButtonText:"Close"})}}),!1}}),$(".home-page").length>0&&(n(),$("#frmReceiveBook").validate({rules:{email:{require_from_group:[1,".receive-book"],email:!0},phone:{require_from_group:[1,".receive-book"],maxlength:10}},messages:{email:{require_from_group:"Vui lòng nhập số điện thoại hoặc email",email:"Nhập email chưa đúng định dạng"},phone:{require_from_group:"Vui lòng nhập số điện thoại hoặc email",maxlength:"Số điện thoại tối đa 10 số"}},groups:{inputGroup:"email phone"},errorPlacement:function(e,t){$(".receive-book-error").fadeIn(),e.appendTo(".receive-book-error")},submitHandler:function(e){return $.ajax({url:baseUrl+"/ajax_subscribe",type:"POST",dataType:"json",data:{email:$("#frmReceiveBook").find('input[name="email"]').val(),phone:$("#frmReceiveBook").find('input[name="phone"]').val(),type:"receive_book"},beforeSend:function(){$(".page-loader-wrapper").fadeIn()},success:function(e){$(".page-loader-wrapper").fadeOut(),"error"==e.status?Swal({title:"Error!",text:e.msg,type:"error",confirmButtonText:"Close"}):Swal({title:"Success!",text:e.msg,type:"success",confirmButtonText:"Close"})},error:function(){Swal({title:"Error!",text:"Rất tiếc không thể kết nối cơ sở dữ liệu",type:"error",confirmButtonText:"Close"})}}),!1}}),$("#frmBooking").validate({rules:{fullname:{required:!0,maxlength:255},phone:{required:!0,maxlength:10}},messages:{fullname:{required:"Trường bắt buộc",maxlength:"Vượt quá chiều dài cho phép"},phone:{required:"Trường bắt buộc",maxlength:"Số điện thoại tối đa 10 số"}},submitHandler:function(e){return $.ajax({url:baseUrl+"/ajax_booking",type:"POST",dataType:"json",data:{gender:$('select[name="gender"]').val(),fullname:$('input[name="fullname"]').val(),phone:$('input[name="phone"]').val()},beforeSend:function(){$(".page-loader-wrapper").fadeIn()},success:function(e){$(".page-loader-wrapper").fadeOut(),"error"==e.status?Swal({title:"Error!",text:e.msg,type:"error",confirmButtonText:"Close"}):Swal({title:"Success!",text:e.msg,type:"success",confirmButtonText:"Close"})},error:function(){Swal({title:"Error!",text:"Rất tiếc không thể kết nối cơ sở dữ liệu",type:"error",confirmButtonText:"Close"})}}),!1}})),$(".touchiefeelieclass-page").length>0&&$(".product").length>0){$("body").on("click",".select-wrap span.selected-item",function(){$(this).parent().children(".select-list").slideToggle(500)});var u=[];u.dau_dua="40000",u.dau_huong_duong="48000",u.dau_nho="55000",$("body").on("click",".product-type-wrap ul.select-list li",function(){var t=$(this).parent("ul.select-list").parent(".product-capacity-wrap").parent(".product-wrap"),r=$(this).html(),a=t.find(".selected-item");a.html(r);var n=parseInt(t.find(".quantity").html()),i=parseInt(u[$(this).attr("data-value")]);t.find(".prize-per-unit").html(i),t.find(".prize").html(e(i*n)),$(this).parent("ul.select-list").slideToggle(500)}),$("body").on("click",".product-quatity-wrap .btn-up",function(){var t=$(this).parent(".product-quatity-wrap").parent(".product-wrap"),r=parseInt(t.find(".prize-per-unit").html().replace(".","")),a=parseInt(t.find(".quantity").html()),n=a+1;t.find(".quantity").html(n),t.find(".prize").html(e(r*n))}),$("body").on("click",".product-quatity-wrap .btn-down",function(){var t=$(this).parent(".product-quatity-wrap").parent(".product-wrap"),r=parseInt(t.find(".prize-per-unit").html().replace(".","")),a=parseInt(t.find(".quantity").html());if(a>1){var n=a-1;t.find(".quantity").html(n),t.find(".prize").html(e(r*n))}})}$(".about-page").length>0&&i(),$(".booking-page").length>0&&(o(),$("body").on("click",".btn-select-wrap .btn-select",function(){var e=$(this).parent(".btn-select-wrap");e.find(".btn-select.active").removeClass("active"),$(this).addClass("active"),e.find(".btn-select-value").val($(this).attr("data-value"))}),$("#frmBooking").validate({ignore:[],rules:{child_name:{required:!0},child_birthday:{required:!0},child_month:{required:!0},child_weight:{required:!0},address:{required:!0},pathological:{required:!0},know_from:{required:!0}},messages:{child_name:{required:"Trường bắt buộc"},child_birthday:{required:"Trường bắt buộc"},child_month:{required:"Trường bắt buộc"},child_weight:{required:"Trường bắt buộc"},address:{required:"Trường bắt buộc"},pathological:{required:"Trường bắt buộc"},know_from:{required:"Trường bắt buộc"}},submitHandler:function(e){e.submit()}}),$(".dat-hen-thanh-cong").length>0&&$(".banner").hide()),setTimeout(function(){$("html, body").animate({scrollTop:0},600,function(){$(".page-loader-wrapper").fadeOut()})},50)});